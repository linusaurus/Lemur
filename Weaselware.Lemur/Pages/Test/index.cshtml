@page
@model Weaselware.Lemur.Pages.Test.indexModel
@{
    //Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>index</title>
</head>
<body>



    <h4>Preformance Data</h4>

  

    <form asp-page="./Index" method="get" class="form-inline">
        <input type="text" name="SearchString" value="@Model.CurrentFilter" />
        <button type="submit" class="btn btn-sm btn-secondary ml-2">
            <span class="glyphicon glyphicon-search" aria-hidden="true"></span> Search
        </button>
        <a class="ml-2"  asp-page="./Index"> |  Back to full List</a>
    </form>
    <br/>
    <div class="table-responsive">
        <table class="table table-striped table-sm">
            <thead>
                <tr>
                    <th>
                        <a>@Html.DisplayNameFor(model => model.NFCRs[0].CPD_ID)</a>
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.NFCRs[0].CPD)
                    </th>
                    <th>
                        <a>
                            @Html.DisplayNameFor(model => model.NFCRs[0].FrameSashType)
                        </a>
                    </th>
                    <th>
                        <a>
                            @Html.DisplayNameFor(model => model.NFCRs[0].UnitType)
                        </a>
                    </th>
                    <th>
                        <a>
                            @Html.DisplayNameFor(model => model.NFCRs[0].GlassName)
                        </a>
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.NFCRs)
                {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.CPD_ID)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.CPD)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.FrameSashType)
                    </td>
                    <td>

                        @Html.DisplayFor(modelItem => item.UnitType)

                    </td>
                    <td>

                        @Html.DisplayFor(modelItem => item.GlassName)

                    </td>
                    <td>

                        <a asp-page="./Details" asp-route-id="@item.CPD_ID">Details</a> |
                        <a asp-page="./Edit" asp-route-id="@item.CPD_ID">Edit</a> 
                    </td>
                </tr>
                }
            </tbody>
        </table>

        @{
            var prevDisabled = !Model.NFCRs.HasPreviousPage ? "disabled" : "";
            var nextDisabled = !Model.NFCRs.HasNextPage ? "disabled" : "";
        }
    </div>
    <a asp-page="./Index"
       asp-route-pageIndex="@(Model.NFCRs.PageIndex - 1)"
       asp-route-currentFilter="@Model.CurrentFilter"
       class="btn btn-sm btn-secondary @prevDisabled">
        Previous
    </a>
    <a asp-page="./Index"
       asp-route-pageIndex="@(Model.NFCRs.PageIndex + 1)"
       asp-route-currentFilter="@Model.CurrentFilter"
       class="btn btn-sm btn-secondary @nextDisabled">
        Next
    </a>

</body>
</html>
